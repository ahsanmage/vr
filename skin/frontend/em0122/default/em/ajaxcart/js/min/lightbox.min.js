var LightboxAJC=Class.create({open:function(){this._topWindow(this.container),this._fade("open",this.container)},close:function(){this._fade("close",this.container)},_fade:function(t,e){"close"==t?new Effect.Opacity("bg_fade",{duration:.5,from:.5,to:0,afterFinish:this._makeInvisible,afterUpdate:this._hideLayer(e)}):new Effect.Opacity("bg_fade",{duration:.5,from:0,to:.5,beforeUpdate:this._makeVisible,afterFinish:this._showLayer(e)})},_makeVisible:function(){$("bg_fade").setStyle({visibility:"visible"})},_makeInvisible:function(){$("bg_fade").setStyle({visibility:"hidden"})},_showLayer:function(t){$(t).setStyle({display:"block"})},_hideLayer:function(t){$(t).setStyle({display:"none"})},_topWindow:function(t){{var e=(parseFloat($(t).getHeight())/2,parseFloat($(t).getWidth())/2),i=document.viewport.getWidth()/2,n=(document.viewport.getHeight()/2,i-e);$$("button.btn-cart")[0]}"undefined"!=typeof window.innerHeight?($(t).style.top="0px",$(t).style.left=Math.round(n)+"px"):($(t).setStyle({top:"0px"}),$(t).setStyle({left:Math.round(n)+"px"}))},_centerWindow:function(t){{var e=parseFloat($(t).getHeight())/2,i=parseFloat($(t).getWidth())/2,n=document.viewport.getWidth()/2,o=document.viewport.getHeight()/2,a=n-i,d=o-e-30;$$("button.btn-cart")[0]}"undefined"!=typeof window.innerHeight?($(t).style.top=Math.round(d)+"px",$(t).style.left=Math.round(a)+"px"):($(t).setStyle({top:Math.round(d)+"px"}),$(t).setStyle({left:Math.round(a)+"px"}))},initialize:function(t){if(this.container=t,null==$("bg_fade")){var e=new Element("div",{id:"bg_fade"});document.body.appendChild(e)}this._hideLayer(this.container);var i=this;Event.observe(window,"resize",function(){i._topWindow(i.container)})}});